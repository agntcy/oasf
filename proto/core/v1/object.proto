// Copyright AGNTCY Contributors (https://github.com/agntcy)
// SPDX-License-Identifier: Apache-2.0

syntax = "proto3";

package core.v1;

import "google/protobuf/struct.proto";

// A specific OASF object in its raw form.
// Used for wire transmission and storage of OASF objects.
//
// The data is represented as a `google.protobuf.Struct` to allow
// for flexible and dynamic schemas.
// The actual object data schema is defined by OASF.
//
// Golang example:
//
//   import (
//      "google.golang.org/protobuf/types/known/structpb"
//
//      corev1 "buf.build/gen/go/agntcy/oasf/protocolbuffers/go/core/v1"
//      typesv1alpha1 "buf.build/gen/go/agntcy/oasf/protocolbuffers/go/types/v1alpha1"
//   )
//
//   func producer() {
//       // Create a typed Record
//       record := typesv1alpha1.Record{}
//
//       // Convert the Record to a generic struct
//       recordStruct, _ := structpb.NewStruct(record)
//
//       // Create an Object with the struct
//       object := &corev1.Object{
//           data: recordStruct,
//       }
//   }
//
//   func consumer(object *corev1.Object) {
//     // Check for some object type identifier
//     if object.Data.Fields["schema_version"].GetStringValue() != "v0.7.0" {
//         return
//     }
//
//     // Convert generic object to JSON
//     objectJSON, _ := json.Marshal(object.Data)
//
//     // Convert the data to a typed Record
//     var record typesv1alpha1.Record
//     json.Unmarshal(objectJSON, &record)
//   }
//
message Object {
  google.protobuf.Struct data = 1;
}
